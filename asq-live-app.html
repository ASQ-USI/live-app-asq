<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../asq-base/asq-base.html">
<link rel="import" href="./src/elements/asq-toolbar/asq-toolbar.html">
<link rel="import" href="./src/elements/asq-live-app-presenter/asq-live-app-presenter.html">
<link rel="import" href="./src/elements/asq-live-app-viewer/asq-live-app-viewer.html">
<dom-module id="asq-live-app">

  <template>
    <template is="dom-if" if="{{hasRole(role, roles.PRESENTER)}}">
      <asq-live-app-presenter></asq-live-app-presenter>
    </template>
    <template is="dom-if" if="{{hasRole(role, roles.VIEWER)}}">
      <asq-live-app-viewer question="[[ question ]]" questions="[[ questions ]]" close-dialog="[[ closeDialog ]]"></asq-live-app-viewer> 
    </template>
  </template>
  
  <script>
    Polymer({
      is:"asq-live-app",
      behaviors:[
      ASQ.asqElementBehavior
      ],
      properties: {
        question: {
          type: Object,
          notify: true,
        },
        questions: {
          type: Array,
          notify: true,
        },
        closeDialog: {
          type: Boolean,
          notify: true,
          value: false,
        },
      },
      showQuestion: function (question) {
        this.set('question', question);
      },
      questionRated: function (question) {
        this.set('question.upvotes', question.upvotes);
        this.set('question.downvotes', question.downvotes);
      },
      updateQuestions: function (questions) {
        this.set('questions', questions);
      },
      closeModal: function () {
        this.set('closeDialog', !this.closeDialog);
      },
    })
  </script>
</dom-module>